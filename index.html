<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ö–∞–ª–µ–Ω–¥–∞—Ä—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π ‚Äî –ö–ò/–∏–Ω–∫–ª—é–∑–∏—è (–Ø–Ω–≤‚Äì–§–µ–≤ 2026)</title>
  <style>
    :root{
      --bg:#0b0c10;
      --card: rgba(255,255,255,.06);
      --card2: rgba(255,255,255,.04);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.64);
      --line: rgba(255,255,255,.12);
      --accent:#7cddff;
      --shadow: 0 12px 30px rgba(0,0,0,.35);
      --radius: 16px;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background:
        radial-gradient(1200px 700px at 20% 10%, rgba(124,221,255,.12), transparent 60%),
        radial-gradient(900px 600px at 80% 30%, rgba(182,255,179,.10), transparent 55%),
        var(--bg);
      color: var(--text);
    }
    header{
      padding: 28px 18px 18px;
      border-bottom: 1px solid var(--line);
      position: sticky; top:0; z-index: 20;
      backdrop-filter: blur(10px);
      background: rgba(11,12,16,.65);
    }
    .wrap{ max-width: 1080px; margin: 0 auto; }
    h1{ margin:0 0 10px; font-size:18px; font-weight:700; }
    .sub{ margin:0 0 14px; color: var(--muted); font-size:13px; line-height:1.4; }
    .controls{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; }
    .chip, select, input{
      border:1px solid var(--line);
      background: rgba(255,255,255,.05);
      color: var(--text);
      border-radius: 999px;
      padding: 9px 12px;
      font-size: 13px;
      outline:none;
    }
    input{ border-radius: 12px; flex: 1 1 280px; padding: 10px 12px; }

    /* fix select dropdown (—Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –≤ –≤—ã–ø–∞–¥–∞—é—â–µ–º—Å—è —Å–ø–∏—Å–∫–µ) */
    select option{
      color: #000;
      background: #fff;
    }
    /* –Ω–µ–±–æ–ª—å—à–∞—è —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ */
    select{
      -webkit-appearance: none;
      appearance: none;
    }

    .chip{ cursor:pointer; user-select:none; transition: transform .08s ease, background .15s ease, border-color .15s ease; }
    .chip:hover{ transform: translateY(-1px); }
    .chip.active{ border-color: rgba(124,221,255,.55); background: rgba(124,221,255,.10); }

    main{ padding: 18px 18px 40px; }
    .month{ margin: 18px 0 28px; }
    .month-title{ display:flex; justify-content:space-between; align-items:flex-end; gap:12px; margin: 0 0 10px; }
    .month-title h2{ margin:0; font-size:15px; letter-spacing:.6px; text-transform: uppercase; }
    .count{ color: var(--muted); font-size: 12px; }

    .grid{ display:grid; grid-template-columns: repeat(12, 1fr); gap: 12px; }

    .card{
      grid-column: span 12;
      background: linear-gradient(180deg, var(--card), var(--card2));
      border: 1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
      display:flex;
      flex-direction: column;
      min-height: 220px;
    }
    @media (min-width: 760px){ .card{ grid-column: span 6; } }
    @media (min-width: 1020px){ .card{ grid-column: span 4; } }

    .thumb{
      height: 120px;
      border-bottom: 1px solid var(--line);
      background:
        radial-gradient(650px 240px at 30% 20%, rgba(124,221,255,.22), transparent 55%),
        radial-gradient(520px 220px at 80% 60%, rgba(182,255,179,.14), transparent 55%),
        rgba(255,255,255,.03);
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      padding: 10px 12px;
    }
    .thumb img{
      width: 100%;
      height: 120px;
      object-fit: cover;
      display:block;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: rgba(0,0,0,.28);
      font-size: 12px;
      color: var(--text);
      white-space: nowrap;
    }

    .content{ padding: 12px 14px 12px; display:flex; flex-direction: column; gap: 8px; }
    .name{ font-weight: 700; font-size: 14px; line-height: 1.25; margin: 0; }
    .meta{ display:flex; flex-wrap:wrap; gap:8px; color: var(--muted); font-size: 12px; margin: 0; }
    .tags{ display:flex; flex-wrap:wrap; gap:8px; margin-top: 2px; }
    .tag{
      display:inline-flex; align-items:center; gap:6px;
      padding: 6px 10px; border-radius: 999px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.04);
      font-size: 12px; color: var(--text);
      white-space: nowrap;
    }
    .tag.creative{ border-color: rgba(124,221,255,.35); }
    .tag.inclusive{ border-color: rgba(182,255,179,.35); }
    .tag.media{ border-color: rgba(255,210,138,.35); }

    .note{ margin:0; color: rgba(255,255,255,.78); font-size: 13px; line-height: 1.4; }
    .links{ margin-top:auto; padding-top: 6px; display:flex; flex-wrap:wrap; gap:10px; }
    a{ color: var(--accent); text-decoration: none; border-bottom: 1px dashed rgba(124,221,255,.35); }
    a:hover{ border-bottom-color: rgba(124,221,255,.75); }

    .empty{
      margin: 14px 0 0;
      color: var(--muted);
      font-size: 13px;
      padding: 14px;
      border: 1px dashed var(--line);
      border-radius: var(--radius);
    }
    footer{
      padding: 22px 18px 30px;
      color: var(--muted);
      font-size: 12px;
      border-top: 1px solid var(--line);
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <h1>–ö–∞–ª–µ–Ω–¥–∞—Ä—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π (–Ø–Ω–≤–∞—Ä—å‚Äì–§–µ–≤—Ä–∞–ª—å 2026)</h1>
      <p class="sub">–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ –∏ —Å–æ—Ü–∏–æ–∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ/–∏–Ω–∫–ª—é–∑–∏–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è.</p>

      <div class="controls">
        <input id="q" placeholder="–ü–æ–∏—Å–∫: –Ω–∞–∑–≤–∞–Ω–∏–µ / –≥–æ—Ä–æ–¥ / –ø—Ä–∏–º–µ—á–∞–Ω–∏—è‚Ä¶" />
        <select id="country">
          <option value="">–í—Å–µ —Å—Ç—Ä–∞–Ω—ã</option>
        </select>
        <div class="chip" data-type="creative">üé® –ö–ò</div>
        <div class="chip" data-type="inclusive">‚ôø –ò–Ω–∫–ª—é–∑–∏—è</div>
        <div class="chip" data-type="media">üé¨/üì∫ –ú–µ–¥–∏–∞</div>
        <div class="chip" data-type="reset">–°–±—Ä–æ—Å</div>
      </div>
    </div>
  </header>

  <main>
    <div class="wrap" id="app"></div>
  </main>

  <script>
    // –î–∞–Ω–Ω—ã–µ –∏–∑ —Ç–≤–æ–µ–π —Ç–∞–±–ª–∏—Ü—ã (—è–Ω–≤–∞—Ä—å/—Ñ–µ–≤—Ä–∞–ª—å).
    const events = [
      {
        month: "–Ø–Ω–≤–∞—Ä—å 2026",
        dates: "15‚Äì19 —è–Ω–≤–∞—Ä—è 2026",
        name: "Jaipur Literature Festival 2026",
        place: "–î–∂–∞–π–ø—É—Ä, –ò–Ω–¥–∏—è",
        country: "–ò–Ω–¥–∏—è",
        types: ["creative"],
        notes: "–ö—Ä—É–ø–Ω–µ–π—à–∏–π –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–Ω—ã–π —Ñ–µ—Å—Ç–∏–≤–∞–ª—å: –ª–∞—É—Ä–µ–∞—Ç—ã –ù–æ–±–µ–ª–µ–≤—Å–∫–æ–π –∏ –ë—É–∫–µ—Ä–æ–≤—Å–∫–æ–π –ø—Ä–µ–º–∏–π, —Ñ–∏–ª–æ—Å–æ—Ñ—ã, –ø–æ–ª–∏—Ç–∏–∫–∏ –∏ –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ –ª–∏–¥–µ—Ä—ã. –§–æ–∫—É—Å ‚Äî –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞ –∏ –∏–¥–µ–∏ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –º–∏—Ä–µ.",
        url: "https://www.jaipurliteraturefestival.org/?ref=tradefest.io&utm_campaign=tradefest.io&utm_source=tradefest.io&utm_medium=tradefest.io",
        image: "images/jaipur.webp"
      },
      {
        month: "–Ø–Ω–≤–∞—Ä—å 2026",
        dates: "22‚Äì31 —è–Ω–≤–∞—Ä—è 2026",
        name: "Singapore Art Week 2026",
        place: "–°–∏–Ω–≥–∞–ø—É—Ä",
        country: "–°–∏–Ω–≥–∞–ø—É—Ä",
        types: ["creative","inclusive"],
        notes: "–§–ª–∞–≥–º–∞–Ω—Å–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∏—Å–∫—É—Å—Å—Ç–≤–∞: ART SG, –≤—ã—Å—Ç–∞–≤–∫–∏, 130+ –ø–∞–±–ª–∏–∫-–∞—Ä—Ç –ø—Ä–æ–µ–∫—Ç–æ–≤. –ï—Å—Ç—å —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ (–∞—Ä—Ç-—Ä—ã–Ω–æ–∫, NFT/–ò–ò, –∫—É–ª—å—Ç—É—Ä–Ω–æ–µ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–æ) –∏ —Å–æ—Ü–∏–æ–∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã –ø–æ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏—Å–∫—É—Å—Å—Ç–≤–∞.",
        url: "https://www.artweek.sg/",
        image: "images/singaporeartweek.jpeg"
      },
      {
        month: "–Ø–Ω–≤–∞—Ä—å 2026",
        dates: "23 —è–Ω–≤–∞—Ä—è ‚Äì 8 —Ñ–µ–≤—Ä–∞–ª—è 2026",
        name: "VI –≤—ã—Å—Ç–∞–≤–∫–∞-—Ñ–æ—Ä—É–º ¬´–£–Ω–∏–∫–∞–ª—å–Ω–∞—è –†–æ—Å—Å–∏—è¬ª",
        place: "–ú–æ—Å–∫–≤–∞, –ì–æ—Å—Ç–∏–Ω—ã–π –¥–≤–æ—Ä",
        country: "–†–æ—Å—Å–∏—è",
        types: ["creative","inclusive"],
        notes: "–î–Ω–∏ –ò–Ω–¥–∏–∏/–®—Ä–∏-–õ–∞–Ω–∫–∏/–ò–Ω–¥–æ–Ω–µ–∑–∏–∏/–ë–∞–Ω–≥–ª–∞–¥–µ—à–∞; —Ñ–æ—Ä—É–º –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª–µ–π –†–æ—Å—Å–∏—è‚Äì–ï–≤—Ä–∞–∑–∏—è; –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ –∏ –Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è (–≤ —Ç.—á. –∫–æ–Ω–∫—É—Ä—Å ¬´–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –º–∞—Å—Ç–µ—Ä–∞ –†–æ—Å—Å–∏–∏¬ª).",
        url: "https://–ø—Ä–æ–º—ã—Å–ª—ã.—Ä—É—Å/",
        image: "images/uniquerussia.jpg"
      },
      {
        month: "–Ø–Ω–≤–∞—Ä—å 2026",
        dates: "24 —è–Ω–≤–∞—Ä—è 2026",
        name: "–ü–µ—Ä–≤—ã–π –º–µ–¥–∏–∞—Ñ–æ—Ä—É–º ¬´–ú–æ–¥–∞ –≤ –†–æ—Å—Å–∏–∏¬ª",
        place: "–ú–æ—Å–∫–≤–∞, Quattro Space",
        country: "–†–æ—Å—Å–∏—è",
        types: ["creative","media"],
        notes: "–†–∞–∑–≤–∏—Ç–∏–µ –∏ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –±—Ä–µ–Ω–¥–æ–≤ –≤ –º–µ–¥–∏–∞—Å—Ä–µ–¥–µ; —Å–≤—è–∑–∫–∞ —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö/—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –º–µ–¥–∏–∞ –∏ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏ –º–æ–¥—ã. –í —Ñ–∏–Ω–∞–ª–µ ‚Äî –¥–µ—Ñ–∏–ª–µ –∏ –Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ —Ñ–∏–Ω–∞–ª–∏—Å—Ç–æ–≤ –∫–æ–Ω–∫—É—Ä—Å–∞.",
        url: "https://modavrf.ru/",
        image: "images/modavrf.png"
      },
      {
        month: "–Ø–Ω–≤–∞—Ä—å 2026",
        dates: "29 —è–Ω–≤–∞—Ä—è ‚Äì 8 —Ñ–µ–≤—Ä–∞–ª—è 2026",
        name: "Bangkok Design Week 2026 (BKKDW2026)",
        place: "–ë–∞–Ω–≥–∫–æ–∫",
        country: "–¢–∞–∏–ª–∞–Ω–¥",
        types: ["creative","inclusive"],
        notes: "–§–µ—Å—Ç–∏–≤–∞–ª—å –¥–∏–∑–∞–π–Ω–∞ –∏ –∏–Ω–Ω–æ–≤–∞—Ü–∏–π: 15+ —Ä–∞–π–æ–Ω–æ–≤, 2000+ —Ç–≤–æ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª–µ–π; –¥–µ–ª–æ–≤–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞, –≤–æ—Ä–∫—à–æ–ø—ã, –Ω–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥. –ê–∫—Ü–µ–Ω—Ç ‚Äî —É—Ä–±–∞–Ω–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –¥–∏–∑–∞–π–Ω –¥–ª—è —É—Å—Ç–æ–π—á–∏–≤–æ–≥–æ –±—É–¥—É—â–µ–≥–æ, –∏–Ω–∫–ª—é–∑–∏–≤–Ω–∞—è —Å—Ä–µ–¥–∞ –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏.",
        url: "https://www.bangkokdesignweek.com/en/bkkdw2026",
        image: "images/bkkdw.png"
      },

      {
        month: "–§–µ–≤—Ä–∞–ª—å 2026",
        dates: "1‚Äì6 —Ñ–µ–≤—Ä–∞–ª—è 2026",
        name: "Dubai Fashion Week AW26/27",
        place: "–î—É–±–∞–π, –û–ê–≠",
        country: "–û–ê–≠",
        types: ["creative"],
        notes: "–ú–æ–¥–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ë–ª–∏–∂–Ω–µ–≥–æ –í–æ—Å—Ç–æ–∫–∞: –ø–æ–∫–∞–∑—ã + –¥–µ–ª–æ–≤–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ (—Ü–∏—Ñ—Ä–æ–≤–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è —Ä–∏—Ç–µ–π–ª–∞, —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å, –ò–ò –≤ –º–æ–¥–µ).",
        url: "https://dubaifashionweek.org/",
        image: "images/dubaifashionweek.png"
      },
      {
        month: "–§–µ–≤—Ä–∞–ª—å 2026",
        dates: "3‚Äì6 —Ñ–µ–≤—Ä–∞–ª—è 2026",
        name: "Downtown Design Riyadh 2026",
        place: "–≠—Ä-–†–∏—è–¥, –°–∞—É–¥–æ–≤—Å–∫–∞—è –ê—Ä–∞–≤–∏—è",
        country: "–°–∞—É–¥–æ–≤—Å–∫–∞—è –ê—Ä–∞–≤–∏—è",
        types: ["creative"],
        notes: "–í—ã—Å—Ç–∞–≤–∫–∞-—Ñ–æ—Ä—É–º –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤ (–∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä—ã/–¥–∏–∑–∞–π–Ω–µ—Ä—ã/–¥–µ–≤–µ–ª–æ–ø–µ—Ä—ã): –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—å–µ—Ä–Ω–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞, –º–µ–±–µ–ª–∏ –∏ –≥—Ä–∞–¥–æ—Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞.",
        url: "https://www.downtowndesign.com/riyadh",
        image: "images/downtown.png"
      },
      {
        month: "–§–µ–≤—Ä–∞–ª—å 2026",
        dates: "5‚Äì8 —Ñ–µ–≤—Ä–∞–ª—è 2026",
        name: "India Art Fair 2026",
        place: "–ù—å—é-–î–µ–ª–∏, –ò–Ω–¥–∏—è",
        country: "–ò–Ω–¥–∏—è",
        types: ["creative"],
        notes: "–ö—Ä—É–ø–Ω–µ–π—à–∞—è —è—Ä–º–∞—Ä–∫–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∏—Å–∫—É—Å—Å—Ç–≤–∞ —Ä–µ–≥–∏–æ–Ω–∞. –ü—É–±–ª–∏—á–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞/—Ç–æ–∫–∏/–ø–∞–Ω–µ–ª–∏ –æ–±—ã—á–Ω–æ –Ω–∞—Å—ã—â–µ–Ω–Ω–∞—è (–≤ —Ñ–∞–π–ª–µ –æ—Ç–º–µ—á–µ–Ω–æ: –ø—Ä–æ–≥—Ä–∞–º–º–∞ –µ—â—ë –Ω–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞).",
        url: "https://indiaartfair.in/",
        image: "images/artfairindia.webp"
      },
      {
        month: "–§–µ–≤—Ä–∞–ª—å 2026",
        dates: "16‚Äì17 —Ñ–µ–≤—Ä–∞–ª—è 2026",
        name: "Africa Business Forum 2026 (UN / Indico)",
        place: "–ê–¥–¥–∏—Å-–ê–±–µ–±–∞, –≠—Ñ–∏–æ–ø–∏—è",
        country: "–≠—Ñ–∏–æ–ø–∏—è",
        types: ["creative","inclusive"],
        notes: "–ü–ª–æ—â–∞–¥–∫–∞ –¥–ª—è –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤ –∏ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π. –¢–µ–º–∞: ¬´–§–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –±—É–¥—É—â–µ–≥–æ –ê—Ñ—Ä–∏–∫–∏: —Ä–∞–±–æ—á–∏–µ –º–µ—Å—Ç–∞, –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏ –∏ –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª¬ª.",
        url: "https://indico.un.org/event/1021548/overview",
        image: "images/africabusinessforum.png"
      },
      {
        month: "–§–µ–≤—Ä–∞–ª—å 2026",
        dates: "17‚Äì18 —Ñ–µ–≤—Ä–∞–ª—è 2026",
        name: "CSTB.PRO.MEDIA 2026 (–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è –≤—ã—Å—Ç–∞–≤–∫–∞ –∏ —Ñ–æ—Ä—É–º –º–µ–¥–∏–∞–∏–Ω–¥—É—Å—Ç—Ä–∏–∏)",
        place: "–ú–æ—Å–∫–≤–∞, –†–æ—Å—Å–∏—è",
        country: "–†–æ—Å—Å–∏—è",
        types: ["media"],
        notes: "–§–æ—Ä—É–º –≤ —Ñ–æ—Ä–º–∞—Ç–µ ¬´–±–∏–∑–Ω–µ—Å-–∫–ª—É–±–∞¬ª (Loft Hall): –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ/–ø—Ä–∞–≤–∞/–¥–æ—Å—Ç–∞–≤–∫–∞/–º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞. –§–æ–∫—É—Å 2026: –∏–º–ø–æ—Ä—Ç–æ–∑–∞–º–µ—â–µ–Ω–∏–µ, –ò–ò –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π, –Ω–æ–≤—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º –∏ —Ç–µ–ª–µ–∫–∞–Ω–∞–ª–æ–≤.",
        url: "https://www.cstb.ru/",
        image: "images/cstbpromedia.png"
      }
    ];

    const app = document.getElementById('app');
    const q = document.getElementById('q');
    const country = document.getElementById('country');
    const chips = Array.from(document.querySelectorAll('.chip'));
    let activeTypes = new Set();

    function uniq(arr){ return Array.from(new Set(arr)).sort((a,b)=>a.localeCompare(b,'ru')); }

    function buildCountrySelect(){
      const countries = uniq(events.map(e => e.country).filter(Boolean));
      for(const c of countries){
        const opt = document.createElement('option');
        opt.value = c;
        opt.textContent = c;
        country.appendChild(opt);
      }
    }

    function matches(e){
      const text = (e.name + " " + e.place + " " + (e.notes||"")).toLowerCase();
      const qv = (q.value || "").trim().toLowerCase();
      const cv = country.value || "";

      if(qv && !text.includes(qv)) return false;
      if(cv && e.country !== cv) return false;

      if(activeTypes.size){
        for(const t of activeTypes){
          if(!(e.types||[]).includes(t)) return false;
        }
      }
      return true;
    }

    function groupByMonth(list){
      const map = new Map();
      for(const e of list){
        if(!map.has(e.month)) map.set(e.month, []);
        map.get(e.month).push(e);
      }
      return map;
    }

    function tagLabel(t){
      if(t==='creative') return 'üé® –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏';
      if(t==='inclusive') return '‚ôø –∏–Ω–∫–ª—é–∑–∏—è';
      if(t==='media') return 'üé¨/üì∫ –º–µ–¥–∏–∞';
      return t;
    }
    function tagClass(t){
      if(t==='creative') return 'creative';
      if(t==='inclusive') return 'inclusive';
      if(t==='media') return 'media';
      return '';
    }

    function safeAbbr(name){
      const words = (name||"").replace(/[()¬´¬ª"‚Äù‚Äú]/g,'').split(/\s+/).filter(Boolean);
      const take = words.slice(0,3).map(w => w[0]?.toUpperCase()).join('');
      return take || 'EVT';
    }

    function render(){
      const filtered = events.filter(matches);

      if(!filtered.length){
        app.innerHTML = `<div class="empty">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.</div>`;
        return;
      }

      const byMonth = groupByMonth(filtered);
      const monthOrder = [];
      for(const e of events){
        if(!monthOrder.includes(e.month)) monthOrder.push(e.month);
      }

      let html = "";
      for(const m of monthOrder){
        if(!byMonth.has(m)) continue;
        const list = byMonth.get(m);

        html += `
          <section class="month">
            <div class="month-title">
              <h2>${m}</h2>
              <div class="count">${list.length} —Å–æ–±—ã—Ç.</div>
            </div>
            <div class="grid">
        `;

        for(const e of list){
          const tags = (e.types||[]).map(t => `<span class="tag ${tagClass(t)}">${tagLabel(t)}</span>`).join(" ");

          const thumb = e.image
            ? `<img src="${e.image}" alt="${e.name}" loading="lazy" onerror="this.closest('.card').querySelector('.thumb').innerHTML = '<div class=badge>${safeAbbr(e.name)}</div>'">`
            : `<div class="badge">${safeAbbr(e.name)}</div>`;

          html += `
            <article class="card">
              <div class="thumb">${thumb}</div>
              <div class="content">
                <p class="name">${e.name}</p>
                <p class="meta">
                  <span>üìÖ ${e.dates}</span>
                  <span>üìç ${e.place}</span>
                </p>
                <div class="tags">${tags}</div>
                ${e.notes ? `<p class="note">${e.notes}</p>` : ``}
                <div class="links">
                  ${e.url ? `<a href="${e.url}" target="_blank" rel="noopener">–°–∞–π—Ç</a>` : ``}
                </div>
              </div>
            </article>
          `;
        }

        html += `</div></section>`;
      }

      app.innerHTML = html;
    }

    chips.forEach(ch => {
      ch.addEventListener('click', () => {
        const t = ch.dataset.type;
        if(t === 'reset'){
          activeTypes.clear();
          chips.forEach(x => x.classList.remove('active'));
          q.value = "";
          country.value = "";
          render();
          return;
        }
        if(activeTypes.has(t)){
          activeTypes.delete(t);
          ch.classList.remove('active');
        } else {
          activeTypes.add(t);
          ch.classList.add('active');
        }
        render();
      });
    });

    q.addEventListener('input', render);
    country.addEventListener('change', render);

    buildCountrySelect();
    render();
  </script>
</body>
</html>
